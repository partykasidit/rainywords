(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{19:function(e,t,n){},43:function(e,t,n){e.exports=n(83)},48:function(e,t,n){},77:function(e,t){},80:function(e,t,n){},81:function(e,t,n){},82:function(e,t,n){},83:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(35),c=n.n(o),l=(n(48),n(11)),u=n(12),i=n(4),s=(n(19),n(40)),m=n(2),f=Object(a.forwardRef)((function(e,t){return r.a.createElement("div",Object.assign({ref:t},e),e.word)})),b=function(e){var t,n=e.word,o=e.idx,c=e.location,l=e.onDropped,u=e.destroyed,s=Object(a.useState)("top"),m=Object(i.a)(s,2),f=m[0],b=m[1];return Object(a.useEffect)((function(){b("bottom"),t=setTimeout((function(){return l()}),4e3)}),[]),Object(a.useEffect)((function(){u&&(clearTimeout(t),b("destroyed"),setTimeout((function(){return l()}),1e3))}),[u]),r.a.createElement(d,{className:"thebox",style:{left:c},pose:f,word:n,idx:o})},d=Object(s.a)(f)({top:{y:"0vh"},bottom:{y:"90vh",transition:{y:{type:"tween",ease:"linear",duration:4e3}}},destroyed:{color:"#FFFF00",fontSize:"100px",transition:{fontSize:{type:"tween",ease:"linear",duration:1e3}}},invisible:{opacity:0},passive:{opacity:["y",Object(m.g)(["0vh","70vh","80vh","90vh"],[1,1,0,0])]}}),p=n(36),O=n(37),y=n(41),j=n(38),v=n(42),g=(a.Component,n(39)),E=n.n(g)()("localhost:4000/game");n(80);var h=function(){var e=Object(a.useState)(""),t=Object(i.a)(e,2),n=t[0],o=t[1],c=Object(a.useState)(0),l=Object(i.a)(c,2),u=(l[0],l[1],Object(a.useState)(!1)),s=Object(i.a)(u,2),m=(s[0],s[1]),f=Object(a.useState)(0),b=Object(i.a)(f,2),d=(b[0],b[1]),p=Object(a.useState)(""),O=Object(i.a)(p,2),y=(O[0],O[1]),j=new Audio("/amb.mp3"),v=Object(a.useState)("/redbird.png"),g=Object(i.a)(v,2),h=g[0],S=g[1],w=function(e){S(e.target.value)},P=function(e){!function(e){var t={myName:n,avatar:h};y(e),E.emit("add_player",t),m(!0),d((function(e){return e+1})),j.play()}(n),o(""),e.preventDefault()};return r.a.createElement("div",{className:"Welcome"},r.a.createElement("div",null,r.a.createElement("h1",null,"Rainy Words Game"),r.a.createElement("form",{onSubmit:P},r.a.createElement("p",null,"Enter your name: "),r.a.createElement("input",{type:"text",name:"name",onChange:function(e){o(e.target.value)}}),r.a.createElement("br",null),r.a.createElement("button",{id:"playbtn",type:"button",onClick:P},"Play Online"),r.a.createElement("div",null,["/bluebird.png","/redbird.png","/yellowbird.png"].map((function(e,t){return r.a.createElement("ul",null,r.a.createElement("input",{type:"radio",name:"avatar",value:e,checked:h===e,onChange:w}),r.a.createElement("img",{className:"avatar",src:e,alt:"loading..."}))}))))))};n(81);var S=function(e){var t=e.players;return e.playerId,r.a.createElement("div",{className:"Score"},r.a.createElement("ul",null,Object.values(t).map((function(e){return r.a.createElement("li",{key:e.id},e.username,":",e.score)}))))};var w=function(e){var t=function(e){var t=0,n="Nobody";return Object.values(e).forEach((function(e){e.score>t&&(t=e.score,n=e.username)})),r.a.createElement("div",null,"The Winner is ",n," with score: ",t," !!!!!")}(e.players);return r.a.createElement("div",{className:"Winnner"},r.a.createElement("div",null,t))};n(82);function P(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function N(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?P(n,!0).forEach((function(t){Object(l.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):P(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var k=function(){var e,t=Object(a.useState)(0),n=Object(i.a)(t,2),o=n[0],c=n[1],l=Object(a.useState)([]),s=Object(i.a)(l,2),m=s[0],f=s[1],d=Object(a.useState)(""),p=Object(i.a)(d,2),O=p[0],y=p[1],j=Object(a.useState)({}),v=Object(i.a)(j,2),g=(v[0],v[1],Object(a.useState)("")),h=Object(i.a)(g,2),S=(h[0],h[1],Object(a.useState)(0)),w=Object(i.a)(S,2),P=(w[0],w[1],Object(a.useState)(300)),k=Object(i.a)(P,2),C=k[0],M=k[1],x=Object(a.useState)(!0),D=Object(i.a)(x,2),I=(D[0],D[1],Object(a.useState)(!1)),T=Object(i.a)(I,2),_=(T[0],T[1]),W=Object(a.useState)(!1),F=Object(i.a)(W,2),G=(F[0],F[1]),B=Object(a.useState)(0),R=Object(i.a)(B,2),A=(R[0],R[1],Object(a.useState)(!1)),J=Object(i.a)(A,2),z=J[0],H=J[1],U=Object(a.useState)(!1),$=Object(i.a)(U,2),q=($[0],$[1],["Gareth","Ronaldo","Falcao","Ronaldo","BigC","Batman","Grid","Party","Tee","Moomin","Jelly","Pond","Pat","Muang","Totee","Messi","Bale","Robben","Neuer","Rooney","Paul"]),K=0;Object(a.useEffect)((function(){var t=q.length,n=setInterval((function(){var e=Math.floor(100*Math.random())+100,n=K++;console.log(n),setTimeout((function(){f((function(e){return[].concat(Object(u.a)(e),[{id:n,word:q[n%t],location:Math.floor(60*Math.random())+20+"vw",destroyed:!1}])}))}),e)}),50);return e&&e.focus(),function(){return clearInterval(n)}}),[z]),Object(a.useEffect)((function(){0===C&&H(!0)}),[C]),Object(a.useEffect)((function(){if(C){var e=setInterval((function(){M((function(e){return e-1}))}),1e3);return function(){return clearInterval(e)}}}),[C]);var L={color:"#"+Math.floor(16777216*Math.random()).toString(16),backgroundColor:"#"+Math.floor(16777216*Math.random()).toString(16)};return r.a.createElement("header",{className:"a",style:L},r.a.createElement("div",{style:{display:"flex-inline"}},z?r.a.createElement("div",{className:"b",style:L},r.a.createElement("h1",null,"GameOver"),r.a.createElement("button",{onClick:function(){M(10),_(!0),c((function(e){return 0})),H(!1),G(!1),_(!0)}},"Play Again")):r.a.createElement("h1",{className:"c",style:L},function(e){var t=Math.floor(e/60),n=e%60;return n<10&&(n="0"+n),r.a.createElement("h1",null,"Timer: ",t,":",n)}(C))),r.a.createElement("div",null,r.a.createElement("p",null,o)),r.a.createElement("form",{className:"d",style:L,onSubmit:function(e){f((function(e){var t=[],n=!0,a=!1,r=void 0;try{for(var o,l=e[Symbol.iterator]();!(n=(o=l.next()).done);n=!0){var u=o.value;u.word!==O?t.push(u):(t.push(N({},u,{destroyed:!0})),c((function(e){return e+1})),E.emit("increase_point",1))}}catch(i){a=!0,r=i}finally{try{n||null==l.return||l.return()}finally{if(a)throw r}}return t})),y(""),e.preventDefault()}},r.a.createElement("input",{onChange:function(e){y(e.target.value)},value:O,ref:function(t){e=t}})),m.map((function(e,t){var n=e.word,a=e.location,o=e.id,c=e.destroyed;return r.a.createElement(b,{className:"thebox",word:n,location:a,key:o,destroyed:c,onDropped:function(){return f((function(e){return e.filter((function(e){return e.id!==o}))}))}})})))};var C=function(e){var t=e.players,n=e.playerId,o=Object(a.useState)([]),c=Object(i.a)(o,2),l=c[0],u=c[1],s=Object(a.useState)(""),m=Object(i.a)(s,2),f=m[0],b=m[1];return Object(a.useEffect)((function(){console.log(n),E.emit("UpdateChat",(function(e){console.log(e),u(e)})),E.on("messageToClient",(function(e){console.log(e),u(e)}))}),[]),r.a.createElement("div",{className:"chat-window"},r.a.createElement("div",{className:"chat-box"},l.map((function(e){return r.a.createElement("div",null,e)}))),r.a.createElement("form",{id:"form",className:"chat-form-submit",onSubmit:function(e){E.emit("ChatMessage",t[n].username+": "+f),b(""),e.preventDefault()}},r.a.createElement("input",{value:f,onChange:function(e){b(e.target.value)},name:"message",placeholder:"Message"}),r.a.createElement("button",{className:"send",type:"button",onClick:function(e){E.emit("ChatMessage",t[n].username+": "+f),b("")}},"Send")))};function M(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function x(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?M(n,!0).forEach((function(t){Object(l.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):M(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var D=function(){var e,t=Object(a.useState)(0),n=Object(i.a)(t,2),o=n[0],c=n[1],l=Object(a.useState)([]),s=Object(i.a)(l,2),m=s[0],f=s[1],d=Object(a.useState)(""),p=Object(i.a)(d,2),O=p[0],y=p[1],j=Object(a.useState)({}),v=Object(i.a)(j,2),g=v[0],P=v[1],N=Object(a.useState)(""),M=Object(i.a)(N,2),D=M[0],I=M[1],T=Object(a.useState)([]),_=Object(i.a)(T,2),W=_[0],F=_[1],G=Object(a.useState)(0),B=Object(i.a)(G,2),R=(B[0],B[1],Object(a.useState)(-1)),A=Object(i.a)(R,2),J=A[0],z=A[1],H=Object(a.useState)(!0),U=Object(i.a)(H,2),$=U[0],q=U[1],K=Object(a.useState)(!1),L=Object(i.a)(K,2),Q=L[0],V=L[1],X=Object(a.useState)(!1),Y=Object(i.a)(X,2),Z=Y[0],ee=Y[1],te=Object(a.useState)(0),ne=Object(i.a)(te,2),ae=ne[0],re=ne[1],oe=Object(a.useState)(!1),ce=Object(i.a)(oe,2),le=ce[0],ue=ce[1],ie=Object(a.useState)(!1),se=Object(i.a)(ie,2),me=(se[0],se[1],Object(a.useState)(!1)),fe=Object(i.a)(me,2),be=fe[0],de=fe[1],pe=Object(a.useState)(0),Oe=Object(i.a)(pe,2),ye=Oe[0],je=Oe[1];Object(a.useEffect)((function(){E.on("1sec",(function(){z((function(e){return e-1})),Z||je((function(e){return e+1})),console.log("1sec")})),E.on("reset_game",(function(){console.log("reset the game"),z(60),V(!0),c((function(e){return 0})),ue(!1),ee(!1),V(!0)})),E.on("players_changed",(function(e){P(e),console.log(e)})),E.on("setPlayerId",(function(e){I(e),console.log(e),q(!1),ee(!0)})),E.on("number_of_players_changed",(function(e){re(e),console.log("loby player :"+e)})),E.on("startGame",(function(){console.log("StartGame"),E.emit("get_words",{duration:60,rate:5}),E.on("words",(function(e){0===m.length&&F((function(){return console.log("mapping data"),e.map((function(e){return e.word}))}))})),z(60),ee(!1),V(!0)}))}),[]);var ve=0;Object(a.useEffect)((function(){if(Q&&!le){var t=W.length,n=setInterval((function(){var e=Math.floor(100*Math.random())+100,n=ve++;console.log(n),setTimeout((function(){f((function(e){return[].concat(Object(u.a)(e),[{id:n,word:W[n%t],location:Math.floor(60*Math.random())+20+"vw",destroyed:!1}])}))}),e)}),200);return e&&e.focus(),function(){return clearInterval(n)}}}),[W,le,Q]),Object(a.useEffect)((function(){0===J&&ue(!0)}),[J]);var ge={},Ee={};return ye%4===0?(ge={color:"purple",backgroundColor:"pink",padding:"5px"},Ee={color:"green"}):ye%3===0?(ge={color:"black",backgroundColor:"DodgerBlue",padding:"10px"},Ee={color:"yellow"}):ye%2===0?(ge={color:"green",backgroundColor:"yellow",padding:"15px"},Ee={color:"purple"}):(ge={color:"orange",backgroundColor:"red",padding:"20px"},Ee={color:"red"}),r.a.createElement("div",{className:"App"},be&&r.a.createElement(k,null),Z&&r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"welcomePlayer"},r.a.createElement("div",null," ","Welcome,",""!==D&&g[D].username,r.a.createElement(r.a.Fragment,null," ",r.a.createElement("img",{className:"avatar",src:g[D].avatar,alt:""})))),r.a.createElement("h1",null,ae<2?r.a.createElement("div",{className:"Waiting"},"Waiting for more players...",r.a.createElement("div",null,r.a.createElement("img",{src:"/cat.gif",alt:"loading..."}))):r.a.createElement("button",{id:"play",type:"button",onClick:function(e){E.emit("clickPlay")}},"Play")),r.a.createElement(C,{players:g,playerId:D})),Q&&r.a.createElement("header",{className:"App-header"},r.a.createElement("div",{style:{display:"flex-inline"}},r.a.createElement(S,{className:"showScore",players:g,playerId:D,style:{justifyContent:"flex-end"}}),le?r.a.createElement("div",{className:"EndGame"},r.a.createElement("h1",null,"GameOver"),r.a.createElement(w,{players:g}),r.a.createElement("button",{onClick:function(){E.emit("reset_game")}},"Play Again")):r.a.createElement("h1",null,function(e){var t=Math.floor(e/60),n=e%60;return n<10&&(n="0"+n),r.a.createElement("h1",null,t,":",n)}(J))),r.a.createElement("div",null,r.a.createElement("p",null,""!==D&&g[D].username,"'s score: ",o)),r.a.createElement("form",{onSubmit:function(e){!le&&Q&&(f((function(e){var t=[],n=!0,a=!1,r=void 0;try{for(var o,l=e[Symbol.iterator]();!(n=(o=l.next()).done);n=!0){var u=o.value;u.word!==O?t.push(u):(t.push(x({},u,{destroyed:!0})),c((function(e){return e+1})),E.emit("increase_point",1))}}catch(i){a=!0,r=i}finally{try{n||null==l.return||l.return()}finally{if(a)throw r}}return t})),y("")),e.preventDefault()}},r.a.createElement("input",{onChange:function(e){y(e.target.value)},value:O,ref:function(t){e=t}})),m.map((function(e,t){var n=e.word,a=e.location,o=e.id,c=e.destroyed;return r.a.createElement(b,{className:"thebox",word:n,location:a,key:o,destroyed:c,onDropped:function(){return f((function(e){return e.filter((function(e){return e.id!==o}))}))}})}))),$&&r.a.createElement(r.a.Fragment,null," ",r.a.createElement(h,null),r.a.createElement("div",{className:"singlePlayer "},r.a.createElement("button",{style:ge,id:"singlePlayer",type:"button",onClick:function(){de(!0),q(!1),z(60)}},"Play SinglePlayer"),r.a.createElement("div",{id:"singlePlayerMessage",style:Ee},"Single Player is very Hardcore and have alot of bugs"))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(D,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[43,1,2]]]);
//# sourceMappingURL=main.638220cb.chunk.js.map